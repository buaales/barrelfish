#
# This script is used to describe the commands to start at
# boot-time and the arguments they should receive.
#

bootdriver /armv8/sbin/boot_armv8_generic
cpudriver /armv8/sbin/cpu_zynqmp loglevel=3 timeslice=1

module /armv8/sbin/init

# Domains spawned by init
module /armv8/sbin/mem_serv
module /armv8/sbin/monitor

# Special boot time domains spawned by monitor
module /armv8/sbin/ramfsd boot
module /armv8/sbin/skb boot
module /armv8/sbin/kaluga boot
module /armv8/sbin/spawnd boot
module /armv8/sbin/proc_mgmt boot
module /armv8/sbin/startd boot
# module /armv8/sbin/acpi boot

# ramfs contents
modulenounzip /eclipseclp_ramfs.cpio.gz nospawn
modulenounzip /skb_ramfs.cpio.gz nospawn

# Drivers
module /armv8/sbin/corectrl auto
module /armv8/sbin/serial_kernel irq=53
# module /armv8/sbin/pci auto

# For networking
module /armv8/sbin/zynqmp_gem auto
module /armv8/sbin/zynqmp_cni auto
module /armv8/sbin/net_sockets_server nospawn

# General user domains
# for server
# module /armv8/sbin/test_net_sockets 192.168.0.1
# for client
# module /armv8/sbin/test_net_sockets 192.168.0.2
# module /armv8/sbin/zynqmp_gem_poll
module /armv8/sbin/angler serial0.terminal xterm
module /armv8/sbin/fish nospawn
